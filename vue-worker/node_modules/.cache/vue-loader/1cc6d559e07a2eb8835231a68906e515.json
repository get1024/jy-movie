{"remainingRequest":"E:\\project\\jy-movie\\vue-worker\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project\\jy-movie\\vue-worker\\src\\views\\Leaving.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\project\\jy-movie\\vue-worker\\src\\views\\Leaving.vue","mtime":1711419820666},{"path":"E:\\project\\jy-movie\\vue-worker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711422159312},{"path":"E:\\project\\jy-movie\\vue-worker\\node_modules\\vue-loader\\lib\\index.js","mtime":1711422161051}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgew0KICBMaXN0QWxsTGVhdmluZ01lc3NhZ2UsIFJlcGx5TGVhdmluZ01lc3NhZ2UsDQp9IGZyb20gIkAvYXBpL2xlYXZpbmciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgd29ya2VyTGlzdDogW10sDQogICAgICBsZWF2aW5nTWVzc2FnZUxpc3Q6IFtdLA0KICAgICAgZm9ybTogew0KICAgICAgICByZXBseTogJycNCiAgICAgIH0sDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgfQ0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgTGlzdEFsbExlYXZpbmdNZXNzYWdlKCkudGhlbihyZXMgPT4gew0KICAgICAgdGhpcy5sZWF2aW5nTWVzc2FnZUxpc3QgPSByZXMuZGF0YQ0KICAgIH0pDQogIH0sDQoNCiAgbWV0aG9kczogew0KDQogICAgaGFuZGxlUmVwbHkoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgICB0aGlzLmZvcm0gPSBpdGVtDQogICAgfSwNCg0KICAgIHN1Ym1pdFJlcGx5KCkgew0KICAgICAgUmVwbHlMZWF2aW5nTWVzc2FnZSh0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICBtZXNzYWdlOiAn5Zue5aSN55WZ6KiA5oiQ5YqfJw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgfSwNCg0KfQ0K"},{"version":3,"sources":["Leaving.vue"],"names":[],"mappings":";AAiCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Leaving.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <div class=\"item2\" v-for=\"(item, index) in leavingMessageList\" :key=\"index\">\r\n      <div style=\"display: flex\">\r\n        <img class=\"av2\" :src=\"item.user.avatar\" alt=\"null\">\r\n        <div>\r\n          <div class=\"d2\">{{ item.user.nickname }}</div>\r\n          <div v-if=\"!item.user.nickname\" class=\"d2\">匿名用户</div>\r\n          <div class=\"d3\">{{ item.leavingMessage.content }}</div>\r\n          <div class=\"d2\">Time: {{ item.leavingMessage.createAt }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"reply\">\r\n        <div class=\"d2\">客服回复:</div>\r\n        <div class=\"d3\">{{ item.leavingMessage.reply }}</div>\r\n      </div>\r\n      <div class=\"reply\">\r\n        <el-button @click=\"handleReply(item, index)\" type=\"text\">回复留言Reply</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <el-dialog title=\"回复留言\" :visible.sync=\"dialogFormVisible\">\r\n      <el-input type=\"textarea\" :rows=\"8\" v-model=\"form.reply\" autocomplete=\"off\"></el-input>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitReply\">确 定 提 交</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ListAllLeavingMessage, ReplyLeavingMessage,\r\n} from \"@/api/leaving\";\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      workerList: [],\r\n      leavingMessageList: [],\r\n      form: {\r\n        reply: ''\r\n      },\r\n      dialogFormVisible: false,\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    ListAllLeavingMessage().then(res => {\r\n      this.leavingMessageList = res.data\r\n    })\r\n  },\r\n\r\n  methods: {\r\n\r\n    handleReply(item, index) {\r\n      this.dialogFormVisible = true\r\n      this.form = item\r\n    },\r\n\r\n    submitReply() {\r\n      ReplyLeavingMessage(this.form).then(res => {\r\n        if (res.success) {\r\n          this.dialogFormVisible = false\r\n          this.$message({\r\n            type: 'success',\r\n            message: '回复留言成功'\r\n          });\r\n        }\r\n      })\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.main {\r\n  color: #000000;\r\n  padding: 40px;\r\n}\r\n\r\n.item2 {\r\n  padding-bottom: 60px;\r\n}\r\n\r\n.av {\r\n  width: 76px;\r\n  height: 76px;\r\n  border-radius: 38px;\r\n  margin-right: 20px;\r\n  float: left;\r\n}\r\n\r\n.av2 {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 30px;\r\n  margin-right: 20px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.d1 {\r\n  letter-spacing: 2px;\r\n  line-height: 30px;\r\n  color: #afbac4;\r\n  font-size: 14px;\r\n}\r\n\r\n.d2 {\r\n  color: #afbac4;\r\n  letter-spacing: 2px;\r\n  font-size: 14px;\r\n  line-height: 30px;\r\n}\r\n\r\n.d3 {\r\n  letter-spacing: 2px;\r\n  font-size: 15px;\r\n  font-weight: 400;\r\n  line-height: 30px;\r\n  color: #000000;\r\n}\r\n\r\n.el-button--text {\r\n  color: #57cc8a;\r\n}\r\n\r\n.btn {\r\n  float: right;\r\n  background: #57cc8a;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.reply {\r\n  padding-left: 75px;\r\n  padding-top: 10px;\r\n}\r\n\r\n</style>"]}]}